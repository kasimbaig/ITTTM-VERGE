<!-- <div class="masters-container">
  
  <div class="masters-tabs-container">
    <div class="masters-tabs" #tabsContainer>
      <div 
        *ngFor="let tab of masterTabs" 
        class="master-tab"
        [class.active]="isTabActive(tab)"
        [class.expanded]="isTabExpanded(tab)"
        (click)="toggleTab(tab, $event)"
      >
        <div class="tab-content">
          <i [ngClass]="tab.icon"></i>
          <span class="tab-label">{{ tab.label }}</span>
          <i 
            *ngIf="tab.children && tab.children.length > 0"
            class="fa-solid dropdown-arrow"
            [ngClass]="isTabExpanded(tab) ? 'fa-chevron-up' : 'fa-chevron-down'"
          ></i>
        </div>

        <div 
          *ngIf="tab.children && tab.children.length > 0 && isTabExpanded(tab)"
          class="tab-dropdown"
          [style.top]="dropdownPosition?.top"
          [style.left]="dropdownPosition?.left"
          [style.width]="dropdownPosition?.width"
        >
          <div 
            *ngFor="let childTab of tab.children"
            class="dropdown-item"
            [class.active]="isChildTabActive(childTab)"
            (click)="navigateToChildTab(tab, childTab)"
          >
            <i [ngClass]="childTab.icon"></i>
            <span>{{ childTab.label }}</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div >
    <router-outlet></router-outlet>
  </div>
</div>  -->

<!-- masters.component.html -->
<div class="masters-container">
  <!-- Left Sidebar Menu -->
  <aside class="masters-sidebar">
    <div class="menu-header">
      <h3>Masters</h3>
    </div>

    <nav class="menu-list">
      <!-- Ship Group with Submenu -->
      <div class="menu-item-group">
        <button class="menu-item"
          [ngClass]="{'active': activeSubPath === 'ship-group'}"
          (click)="navigateTo('ship-group')">
          <i class="fa-solid fa-database"></i>
          <span>Ship</span>
          <i class="fa-solid chevron" [ngClass]="showShipDropdownDropdown ? 'fa-chevron-up' : 'fa-chevron-down'"></i>
        </button>

        <div class="submenu" *ngIf="showShipDropdownDropdown">
          <button *ngFor="let item of shipDropdownItems" class="submenu-item"
            (click)="navigateToShipSubItem(item.path)">
            <i [ngClass]="item.icon"></i>
            <span>{{ item.label }}</span>
          </button>
        </div>
      </div>

      <!-- Unit Group with Submenu -->
      <div class="menu-item-group">
        <button class="menu-item"
          [ngClass]="{'active': activeSubPath === 'unit-group'}"
          (click)="navigateTo('unit-group')">
          <i class="fa-solid fa-chart-bar"></i>
          <span>Unit</span>
          <i class="fa-solid chevron" [ngClass]="showUnitDropdownDropdown ? 'fa-chevron-up' : 'fa-chevron-down'"></i>
        </button>

        <div class="submenu" *ngIf="showUnitDropdownDropdown">
          <button *ngFor="let item of unitDropdownItems" class="submenu-item"
            (click)="navigateToUnitSubItem(item.path)">
            <i [ngClass]="item.icon"></i>
            <span>{{ item.label }}</span>
          </button>
        </div>
      </div>

      <!-- Regular Menu Items -->
      <button class="menu-item" [ngClass]="{'active': activeSubPath === 'propulsion'}" (click)="navigateTo('propulsion')">
        <i class="fa-solid fa-cogs"></i>
        <span>Propulsion</span>
      </button>

      <button class="menu-item" [ngClass]="{'active': activeSubPath === 'equip-master'}" (click)="navigateTo('equip-master')">
        <i class="fa-solid fa-cog"></i>
        <span>Equipment</span>
      </button>

      <button class="menu-item" [ngClass]="{'active': activeSubPath === 'compartment'}" (click)="navigateTo('compartment')">
        <i class="fa-solid fa-building"></i>
        <span>Compartment</span>
      </button>

      <button class="menu-item" [ngClass]="{'active': activeSubPath === 'damage-type'}" (click)="navigateTo('damage-type')">
        <i class="fa-solid fa-exclamation-triangle"></i>
        <span>Damage Type</span>
      </button>

      <button class="menu-item" [ngClass]="{'active': activeSubPath === 'dockyard'}" (click)="navigateTo('dockyard')">
        <i class="fa-solid fa-anchor"></i>
        <span>Dockyard</span>
      </button>

      <button class="menu-item" [ngClass]="{'active': activeSubPath === 'operational-status'}" (click)="navigateTo('operational-status')">
        <i class="fa-solid fa-check-circle"></i>
        <span>Operational Status</span>
      </button>

      <button class="menu-item" [ngClass]="{'active': activeSubPath === 'module'}" (click)="navigateTo('module')">
        <i class="fa-solid fa-cube"></i>
        <span>Module</span>
      </button>

      <button class="menu-item" [ngClass]="{'active': activeSubPath === 'country'}" (click)="navigateTo('country')">
        <i class="fa-solid fa-flag"></i>
        <span>Country</span>
      </button>

      <button class="menu-item" [ngClass]="{'active': activeSubPath === 'refit'}" (click)="navigateTo('refit')">
        <i class="fa-solid fa-wrench"></i>
        <span>Refit</span>
      </button>

      <button class="menu-item" [ngClass]="{'active': activeSubPath === 'submodule'}" (click)="navigateTo('submodule')">
        <i class="fa-solid fa-th-large"></i>
        <span>Submodule</span>
      </button>

      <button class="menu-item" [ngClass]="{'active': activeSubPath === 'city'}" (click)="navigateTo('city')">
        <i class="fa-solid fa-building"></i>
        <span>City</span>
      </button>

      <button class="menu-item" [ngClass]="{'active': activeSubPath === 'system'}" (click)="navigateTo('system')">
        <i class="fa-solid fa-cog"></i>
        <span>System</span>
      </button>

      <button class="menu-item" [ngClass]="{'active': activeSubPath === 'trial-units'}" (click)="navigateTo('trial-units')">
        <i class="fa-solid fa-flask"></i>
        <span>Trial Units</span>
      </button>

      <button class="menu-item" [ngClass]="{'active': activeSubPath === 'establishment'}" (click)="navigateTo('establishment')">
        <i class="fa-solid fa-building"></i>
        <span>Establishment</span>
      </button>

      <button class="menu-item" [ngClass]="{'active': activeSubPath === 'section'}" (click)="navigateTo('section')">
        <i class="fa-solid fa-sitemap"></i>
        <span>Section</span>
      </button>

      <button class="menu-item" [ngClass]="{'active': activeSubPath === 'state'}" (click)="navigateTo('state')">
        <i class="fa-solid fa-map"></i>
        <span>State</span>
      </button>

      <button class="menu-item" [ngClass]="{'active': activeSubPath === 'station'}" (click)="navigateTo('station')">
        <i class="fa-solid fa-map-pin"></i>
        <span>Station</span>
      </button>
      <!-- GraphQL Menu Item -->
      <button class="menu-item" [ngClass]="{'active': activeSubPath === 'graphql'}" (click)="navigateTo('graphql')">
        <i class="fa-solid fa-database"></i>
        <span>GraphQL</span>
      </button>
      <!-- Form Building Menu Item -->
      <button class="menu-item" [ngClass]="{'active': activeSubPath ===
  'form-building'}" (click)="navigateTo('form-building')">
          <i class="fa-solid fa-wpforms"></i>
          <span>Form Building</span>
      </button>
    </nav>
  </aside>

  <!-- Main Content Area -->
  <main class="masters-content">
    <router-outlet></router-outlet>
  </main>
</div>